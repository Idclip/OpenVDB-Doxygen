<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OpenVDB AX: OpenVDB AX</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OpenVDB AX
   &#160;<span id="projectnumber">0.3.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">OpenVDB AX</a></li><li class="navelem"><a class="el" href="ax.html">AX</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">OpenVDB AX </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div style="width:800px;text-align:justify;"></div><div style="width:800px;text-align:justify;"></div><h1><a class="anchor" id="vdbaxcontents"></a>
Contents</h1>
<div style="width:800px;text-align:justify;"><ul>
<li><a class="el" href="openvdbax.html#vdbaxintro">Introduction</a></li>
<li><a class="el" href="openvdbax.html#vdbaxstructure">OpenVDB AX Repository Structure</a><ul>
<li><a class="el" href="openvdbax.html#vdbaxgrammar">The Grammar</a></li>
<li><a class="el" href="openvdbax.html#vdbaxast">The AST</a></li>
<li><a class="el" href="openvdbax.html#vdbaxcodegen">The Codegen</a></li>
<li><a class="el" href="openvdbax.html#vdbaxcompiler">The Compiler</a></li>
<li><a class="el" href="openvdbax.html#vdbaxhoudini">The Houdini Plugin</a></li>
<li><a class="el" href="openvdbax.html#vdbaxother">Everything Else</a></li>
</ul>
</li>
<li><a class="el" href="openvdbax.html#vdbaxbinary">The Command Line Binary: vdb_ax</a></li>
<li><a class="el" href="openvdbax.html#vdbaxtoaxtypes">OpenVDB / OpenVDB AX Types</a></li>
<li><a class="el" href="openvdbax.html#vdbaxextend">Extending OpenVDB AX</a></li>
</ul>
</div><div style="width:800px;text-align:justify;"></div><h1><a class="anchor" id="vdbaxintro"></a>
Introduction</h1>
<div style="width:800px;text-align:justify;"><hr/>
 </div><h1><a class="anchor" id="vdbaxstructure"></a>
OpenVDB AX Repository Structure</h1>
<div style="width:800px;text-align:justify;"></div><h2><a class="anchor" id="vdbaxgrammar"></a>
The Grammar</h2>
<div style="width:800px;text-align:justify;"></div><h2><a class="anchor" id="vdbaxast"></a>
The AST</h2>
<div style="width:800px;text-align:justify;"></div><h2><a class="anchor" id="vdbaxcodegen"></a>
The Codegen</h2>
<div style="width:800px;text-align:justify;"></div><h2><a class="anchor" id="vdbaxcompiler"></a>
The Compiler</h2>
<div style="width:800px;text-align:justify;"></div><h2><a class="anchor" id="vdbaxhoudini"></a>
The Houdini Plugin</h2>
<div style="width:800px;text-align:justify;"></div><h2><a class="anchor" id="vdbaxother"></a>
Everything Else</h2>
<div style="width:800px;text-align:justify;"><hr/>
 </div><h1><a class="anchor" id="vdbaxbinary"></a>
The Command Line Binary: vdb_ax</h1>
<div style="width:800px;text-align:justify;"><hr/>
 </div><h1><a class="anchor" id="vdbaxtoaxtypes"></a>
OpenVDB / OpenVDB AX Types</h1>
<div style="width:800px;text-align:justify;"><dl class="section user"><dt></dt><dd>Whilst OpenVDB AX is primarily designed for OpenVDB, it has its own notion of types. This is so that the actual AX language is able to support arithmetic that OpenVDB geometry would perhaps otherwise not support. For example, AX supports 3x3 and 4x4 matrix types. These types are akin to the <code>openvdb::math::Mat</code> types that exist in OpenVDB library - however, historically, these types are not "registered Grid types" by default by OpenVDB. This means that, although you could theoretically create an <code>openvdb::Mat3dGrid</code> OpenVDB may not support the reading or writing of these grid types out the box. Whilst this may change in the future, there may exist other examples of types in AX which suffer from the same limitation of existing geometry types in OpenVDB. </dd></dl>
<dl class="section user"><dt></dt><dd>Native OpenVDB types are types which are <b>a</b>) registered for serialization and <b>b</b>) compilable by the default C++ installation of OpenVDB. This is a bit convoluted, so what does this actually mean in practice? Generally, accessing an <b>attribute</b> in AX requires that data to exist on the underlying geometry. As such, reading or writing to a given attribute (for example <code>bool@myattr</code>) requires both the AX compiler <b>and</b> the underlying geometry to support the given type. As mentioned above, there may be times where this isn't the case. Consider the following: </dd></dl>
<dl class="section user"><dt></dt><dd><div class="fragment"><div class="line">vec4i a = {1,2,3,4};</div><div class="line">vec4i@attr = a;</div></div><!-- fragment --> </dd></dl>
<dl class="section user"><dt></dt><dd>Now lets assume that a notion of four <code>int32</code> values is not supported for serialization of OpenVDB points or volumes (we assume the type can at least be instantiated). Whilst this code may execute, serializing this data to disk may fail due to unregistered OpenVDB types. AX does <b>not</b> register any additional OpenVDB types. This choice is left to downstream software. In this example, to allow for serialization of <code>vec4</code> types, some variant of the following can be implemented in your application. </dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The choice to register Grid types in OpenVDB is left to the OpenVDB maintainers. There are important consequences to registering custom types - other default installations of OpenVDB <b>will not be able to read your files</b> unless compiled with similar instantiations. </dd></dl>
<dl class="section user"><dt></dt><dd><div class="fragment"><div class="line"><a class="code" href="namespaceopenvdb_1_1v7__0_1_1ax.html#a25a40b6614565f755233080a384c35f1">openvdb::initialize</a>(); <span class="comment">// standard init of vdb</span></div><div class="line"><a class="code" href="namespaceopenvdb_1_1v7__0_1_1ax.html#a25a40b6614565f755233080a384c35f1">openvdb::ax::initialize</a>(); <span class="comment">// standard init of ax</span></div><div class="line"><span class="comment">// Define a Vec4I grid type from the openvdb::math::Vec4&lt;int32_t&gt; class.</span></div><div class="line"><span class="comment">// Use a ValueConverter to ensure the grid has the same configuration as</span></div><div class="line"><span class="comment">// a standard OpenVDB grid type.</span></div><div class="line"><span class="keyword">using</span> Vec4IGrid = openvdb::BoolGrid::ValueConverter&lt;openvdb::Vec4I&gt;::Type;</div><div class="line"><span class="comment">// register this type</span></div><div class="line">Vec4IGrid::registerGrid();</div></div><!-- fragment --></dd></dl>
<hr/>
 </div><h1><a class="anchor" id="vdbaxextend"></a>
Extending OpenVDB AX</h1>
<div style="width:800px;text-align:justify;"></div><div style="width:800px;text-align:justify;"></div> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
